\hypertarget{lex_8c}{}\section{/home/plizar/\+Documents/\+M\+I\+P\+S/\+M\+I\+P\+S/src/lex.c File Reference}
\label{lex_8c}\index{/home/plizar/\+Documents/\+M\+I\+P\+S/\+M\+I\+P\+S/src/lex.\+c@{/home/plizar/\+Documents/\+M\+I\+P\+S/\+M\+I\+P\+S/src/lex.\+c}}


Lexical analysis routines for M\+I\+PS assembly syntax.  


{\ttfamily \#include $<$stdlib.\+h$>$}\\*
{\ttfamily \#include $<$stdio.\+h$>$}\\*
{\ttfamily \#include $<$string.\+h$>$}\\*
{\ttfamily \#include $<$ctype.\+h$>$}\\*
{\ttfamily \#include $<$strings.\+h$>$}\\*
{\ttfamily \#include $<$global.\+h$>$}\\*
{\ttfamily \#include $<$notify.\+h$>$}\\*
{\ttfamily \#include $<$lex.\+h$>$}\\*
{\ttfamily \#include $<$functions.\+h$>$}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{lex_8c_a3024ccd4a9af5109d24e6c57565d74a1}{\+\_\+\+P\+O\+S\+I\+X\+\_\+\+C\+\_\+\+S\+O\+U\+R\+CE}~200112L
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{lex_8c_ad1cd895feb592576ade1c75e660d84d0}{lex\+\_\+read\+\_\+line} (char $\ast$line, int nline, chain newline)
\begin{DoxyCompactList}\small\item\em This function performs lexical analysis of one standardized line. \end{DoxyCompactList}\item 
void \hyperlink{lex_8c_a8a7a103f3c103919f688bf357b7b5bad}{lex\+\_\+load\+\_\+file} (char $\ast$file, unsigned int $\ast$nlines, chain ch)
\begin{DoxyCompactList}\small\item\em This function loads an assembly code from a file into memory. \end{DoxyCompactList}\item 
void \hyperlink{lex_8c_a22f40dcaacb507cdee11208491b3ac8b}{lex\+\_\+standardise} (char $\ast$in, char $\ast$out)
\begin{DoxyCompactList}\small\item\em This function will prepare a line of source code for further analysis. \end{DoxyCompactList}\item 
char $\ast$ \hyperlink{lex_8c_a5767e9fdb2794e0f2657b523126be0ae}{state\+\_\+to\+\_\+string} (int state)
\begin{DoxyCompactList}\small\item\em This function is useful for debug trace only. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Lexical analysis routines for M\+I\+PS assembly syntax. 

M\+I\+PS assembly syntax.

\begin{DoxyAuthor}{Author}
François Portet \href{mailto:francois.portet@imag.fr}{\tt francois.\+portet@imag.\+fr} These routines perform the analysis of the lexeme of an assembly source code file.

François Portet \href{mailto:francois.portet@imag.fr}{\tt francois.\+portet@imag.\+fr} These routines perform the analysis of the syntactic aspect of the assembly. 1/ Analysis of the symbol and loading of instruction information from a dictionnaire. 2/ Analysis of instruction type \+: 3 type of instruction. The aim is to recognize the shape of the instruction using the collection of lexemes. R-\/\+Instruction \$rd, \$rs, \$rt, sa I-\/\+Instruction \$rt, \$rs, immediate J-\/\+Instruction target 3/ If the intruction is legal, translate to binary. If not, raise an error. 
\end{DoxyAuthor}


\subsection{Macro Definition Documentation}
\index{lex.\+c@{lex.\+c}!\+\_\+\+P\+O\+S\+I\+X\+\_\+\+C\+\_\+\+S\+O\+U\+R\+CE@{\+\_\+\+P\+O\+S\+I\+X\+\_\+\+C\+\_\+\+S\+O\+U\+R\+CE}}
\index{\+\_\+\+P\+O\+S\+I\+X\+\_\+\+C\+\_\+\+S\+O\+U\+R\+CE@{\+\_\+\+P\+O\+S\+I\+X\+\_\+\+C\+\_\+\+S\+O\+U\+R\+CE}!lex.\+c@{lex.\+c}}
\subsubsection[{\texorpdfstring{\+\_\+\+P\+O\+S\+I\+X\+\_\+\+C\+\_\+\+S\+O\+U\+R\+CE}{_POSIX_C_SOURCE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define \+\_\+\+P\+O\+S\+I\+X\+\_\+\+C\+\_\+\+S\+O\+U\+R\+CE~200112L}\hypertarget{lex_8c_a3024ccd4a9af5109d24e6c57565d74a1}{}\label{lex_8c_a3024ccd4a9af5109d24e6c57565d74a1}


Definition at line 10 of file lex.\+c.



\subsection{Function Documentation}
\index{lex.\+c@{lex.\+c}!lex\+\_\+load\+\_\+file@{lex\+\_\+load\+\_\+file}}
\index{lex\+\_\+load\+\_\+file@{lex\+\_\+load\+\_\+file}!lex.\+c@{lex.\+c}}
\subsubsection[{\texorpdfstring{lex\+\_\+load\+\_\+file(char $\ast$file, unsigned int $\ast$nlines, chain ch)}{lex_load_file(char *file, unsigned int *nlines, chain ch)}}]{\setlength{\rightskip}{0pt plus 5cm}void lex\+\_\+load\+\_\+file (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{file, }
\item[{unsigned int $\ast$}]{nlines, }
\item[{chain}]{ch}
\end{DoxyParamCaption}
)}\hypertarget{lex_8c_a8a7a103f3c103919f688bf357b7b5bad}{}\label{lex_8c_a8a7a103f3c103919f688bf357b7b5bad}


This function loads an assembly code from a file into memory. 


\begin{DoxyParams}{Parameters}
{\em file} & Assembly source code file name. \\
\hline
{\em nlines} & Pointer to the number of lines in the file. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
should return the collection of lexemes 
\end{DoxyReturn}


Definition at line 170 of file lex.\+c.

\index{lex.\+c@{lex.\+c}!lex\+\_\+read\+\_\+line@{lex\+\_\+read\+\_\+line}}
\index{lex\+\_\+read\+\_\+line@{lex\+\_\+read\+\_\+line}!lex.\+c@{lex.\+c}}
\subsubsection[{\texorpdfstring{lex\+\_\+read\+\_\+line(char $\ast$line, int nline, chain newline)}{lex_read_line(char *line, int nline, chain newline)}}]{\setlength{\rightskip}{0pt plus 5cm}void lex\+\_\+read\+\_\+line (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{line, }
\item[{int}]{nline, }
\item[{chain}]{newline}
\end{DoxyParamCaption}
)}\hypertarget{lex_8c_ad1cd895feb592576ade1c75e660d84d0}{}\label{lex_8c_ad1cd895feb592576ade1c75e660d84d0}


This function performs lexical analysis of one standardized line. 


\begin{DoxyParams}{Parameters}
{\em line} & String of the line of source code to be analysed. \\
\hline
{\em nline} & the line number in the source code. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
should return the collection of lexemes that represent the input line of source code. 
\end{DoxyReturn}


Definition at line 29 of file lex.\+c.

\index{lex.\+c@{lex.\+c}!lex\+\_\+standardise@{lex\+\_\+standardise}}
\index{lex\+\_\+standardise@{lex\+\_\+standardise}!lex.\+c@{lex.\+c}}
\subsubsection[{\texorpdfstring{lex\+\_\+standardise(char $\ast$in, char $\ast$out)}{lex_standardise(char *in, char *out)}}]{\setlength{\rightskip}{0pt plus 5cm}void lex\+\_\+standardise (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{in, }
\item[{char $\ast$}]{out}
\end{DoxyParamCaption}
)}\hypertarget{lex_8c_a22f40dcaacb507cdee11208491b3ac8b}{}\label{lex_8c_a22f40dcaacb507cdee11208491b3ac8b}


This function will prepare a line of source code for further analysis. 


\begin{DoxyParams}{Parameters}
{\em in} & Input line of source code (possibly very badly written). \\
\hline
{\em out} & Line of source code in a suitable form for further analysis. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
nothing 
\end{DoxyReturn}


Definition at line 250 of file lex.\+c.

\index{lex.\+c@{lex.\+c}!state\+\_\+to\+\_\+string@{state\+\_\+to\+\_\+string}}
\index{state\+\_\+to\+\_\+string@{state\+\_\+to\+\_\+string}!lex.\+c@{lex.\+c}}
\subsubsection[{\texorpdfstring{state\+\_\+to\+\_\+string(int state)}{state_to_string(int state)}}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ state\+\_\+to\+\_\+string (
\begin{DoxyParamCaption}
\item[{int}]{state}
\end{DoxyParamCaption}
)}\hypertarget{lex_8c_a5767e9fdb2794e0f2657b523126be0ae}{}\label{lex_8c_a5767e9fdb2794e0f2657b523126be0ae}


This function is useful for debug trace only. 


\begin{DoxyParams}{Parameters}
{\em state} & The state enum (F\+SM). \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
should return a string with the same name as enum case. 
\end{DoxyReturn}


Definition at line 355 of file lex.\+c.

